I = [0 50 72 104 140 30 96 117 70 40 30 60 120 200 170 220 261 240 11 160 186]';
B = [2870 2881 2887 2894.3 2903.3 2878 2892.5 2898 2886.5 2878.7 2876 2884 2898 2920 2912 2927 2935 2928.7 2870.4 2908.7 2916.8]';
A = [I ones(length(I),1)];
C = inv(A'*A)*A'*B;
x = min(I):max(I);
y = C(1)*x+C(2); %Range: [-11.25 , 4.5] A
figure;
plot(I,B,'xr');
hold on;
plot(x,y,'b');
grid();
xlabel('mA');
ylabel('bits');
title("ACS712");
